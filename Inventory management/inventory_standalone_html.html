<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inventory Manager</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect } = React;

    // Lucide React Icons (inline SVG components)
    const Menu = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
    );
    const X = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
    );
    const Plus = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
    );
    const Edit2 = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>
    );
    const Trash2 = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
    );
    const ShoppingCart = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
    );
    const Settings = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="3"></circle><path d="M12 1v6m0 6v6m-9-9h6m6 0h6"></path></svg>
    );
    const Building2 = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg>
    );
    const Package = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
    );
    const Mail = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
    );
    const Copy = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
    );
    const Check = (props) => (
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="20 6 9 17 4 12"></polyline></svg>
    );

    // Database helper using localStorage
    const db = {
      getVendors: () => {
        const vendors = localStorage.getItem('vendors');
        return vendors ? JSON.parse(vendors) : [];
      },
      
      saveVendors: (vendors) => {
        localStorage.setItem('vendors', JSON.stringify(vendors));
      },
      
      getItems: () => {
        const items = localStorage.getItem('items');
        return items ? JSON.parse(items) : [];
      },
      
      saveItems: (items) => {
        localStorage.setItem('items', JSON.stringify(items));
      },
      
      addVendor: (vendor) => {
        const vendors = db.getVendors();
        const newVendor = { ...vendor, id: Date.now() };
        vendors.push(newVendor);
        db.saveVendors(vendors);
        return newVendor;
      },
      
      updateVendor: (id, vendor) => {
        const vendors = db.getVendors();
        const index = vendors.findIndex(v => v.id === id);
        if (index !== -1) {
          vendors[index] = { ...vendors[index], ...vendor };
          db.saveVendors(vendors);
        }
      },
      
      deleteVendor: (id) => {
        const vendors = db.getVendors().filter(v => v.id !== id);
        const items = db.getItems().filter(i => i.vendorId !== id);
        db.saveVendors(vendors);
        db.saveItems(items);
      },
      
      addItem: (item) => {
        const items = db.getItems();
        const newItem = { ...item, id: Date.now() };
        items.push(newItem);
        db.saveItems(items);
        return newItem;
      },
      
      updateItem: (id, item) => {
        const items = db.getItems();
        const index = items.findIndex(i => i.id === id);
        if (index !== -1) {
          items[index] = { ...items[index], ...item };
          db.saveItems(items);
        }
      },
      
      deleteItem: (id) => {
        const items = db.getItems().filter(i => i.id !== id);
        db.saveItems(items);
      },
      
      getItemsByVendor: (vendorId) => {
        return db.getItems().filter(i => i.vendorId === vendorId);
      }
    };

    // Main App Component
    function InventoryApp() {
      const [currentTab, setCurrentTab] = useState('vendors');
      const [vendors, setVendors] = useState([]);
      const [items, setItems] = useState([]);

      useEffect(() => {
        loadData();
      }, []);

      const loadData = () => {
        setVendors(db.getVendors());
        setItems(db.getItems());
      };

      return (
        <div className="min-h-screen bg-gray-50">
          <header className="bg-blue-600 text-white shadow-lg">
            <div className="max-w-7xl mx-auto px-4 py-4">
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-3">
                  <Package className="w-8 h-8" />
                  <h1 className="text-2xl font-bold">Inventory Manager</h1>
                </div>
                <button
                  onClick={() => {
                    const data = {
                      vendors: db.getVendors(),
                      items: db.getItems(),
                      timestamp: new Date().toISOString()
                    };
                    navigator.clipboard.writeText(JSON.stringify(data, null, 2));
                    alert('Database exported to clipboard!');
                  }}
                  className="bg-blue-700 hover:bg-blue-800 px-4 py-2 rounded-lg flex items-center gap-2"
                >
                  <Copy className="w-4 h-4" />
                  Export
                </button>
              </div>
            </div>
          </header>

          <nav className="bg-white border-b border-gray-200">
            <div className="max-w-7xl mx-auto px-4">
              <div className="flex gap-2">
                <TabButton
                  active={currentTab === 'vendors'}
                  onClick={() => setCurrentTab('vendors')}
                  icon={<Building2 className="w-5 h-5" />}
                  label="Vendors"
                />
                <TabButton
                  active={currentTab === 'order'}
                  onClick={() => setCurrentTab('order')}
                  icon={<ShoppingCart className="w-5 h-5" />}
                  label="Order"
                />
                <TabButton
                  active={currentTab === 'settings'}
                  onClick={() => setCurrentTab('settings')}
                  icon={<Settings className="w-5 h-5" />}
                  label="Settings"
                />
              </div>
            </div>
          </nav>

          <main className="max-w-7xl mx-auto px-4 py-6">
            {currentTab === 'vendors' && <VendorsTab vendors={vendors} onUpdate={loadData} />}
            {currentTab === 'order' && <OrderTab vendors={vendors} items={items} />}
            {currentTab === 'settings' && <SettingsTab />}
          </main>
        </div>
      );
    }

    function TabButton({ active, onClick, icon, label }) {
      return (
        <button
          onClick={onClick}
          className={`flex items-center gap-2 px-6 py-3 border-b-2 font-medium transition-colors ${
            active
              ? 'border-blue-600 text-blue-600'
              : 'border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300'
          }`}
        >
          {icon}
          {label}
        </button>
      );
    }

    function VendorsTab({ vendors, onUpdate }) {
      const [showDialog, setShowDialog] = useState(false);
      const [editingVendor, setEditingVendor] = useState(null);
      const [selectedVendor, setSelectedVendor] = useState(null);

      const handleAdd = () => {
        setEditingVendor(null);
        setShowDialog(true);
      };

      const handleEdit = (vendor) => {
        setEditingVendor(vendor);
        setShowDialog(true);
      };

      const handleDelete = (vendor) => {
        if (confirm(`Delete ${vendor.name}? This will also delete all items for this vendor.`)) {
          db.deleteVendor(vendor.id);
          onUpdate();
        }
      };

      if (selectedVendor) {
        return (
          <VendorItemsView
            vendor={selectedVendor}
            onBack={() => setSelectedVendor(null)}
            onUpdate={onUpdate}
          />
        );
      }

      return (
        <div>
          {vendors.length === 0 ? (
            <div className="text-center py-16">
              <Building2 className="w-20 h-20 mx-auto text-gray-300 mb-4" />
              <h3 className="text-xl font-medium text-gray-600 mb-2">No vendors yet</h3>
              <p className="text-gray-500 mb-6">Add your first vendor to get started</p>
            </div>
          ) : (
            <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
              {vendors.map(vendor => (
                <div key={vendor.id} className="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
                  <div className="flex justify-between items-start mb-4">
                    <div
                      className="flex-1 cursor-pointer"
                      onClick={() => setSelectedVendor(vendor)}
                    >
                      <div className="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-3">
                        <span className="text-xl font-bold text-blue-600">
                          {vendor.name.charAt(0).toUpperCase()}
                        </span>
                      </div>
                      <h3 className="font-bold text-lg text-gray-900">{vendor.name}</h3>
                      {vendor.salesPerson && (
                        <p className="text-sm text-gray-600">Sales: {vendor.salesPerson}</p>
                      )}
                      {vendor.email && (
                        <p className="text-sm text-gray-600">{vendor.email}</p>
                      )}
                      {vendor.phone && (
                        <p className="text-sm text-gray-600">{vendor.phone}</p>
                      )}
                    </div>
                    <div className="flex gap-2">
                      <button
                        onClick={() => handleEdit(vendor)}
                        className="text-blue-600 hover:text-blue-800 p-2"
                      >
                        <Edit2 className="w-4 h-4" />
                      </button>
                      <button
                        onClick={() => handleDelete(vendor)}
                        className="text-red-600 hover:text-red-800 p-2"
                      >
                        <Trash2 className="w-4 h-4" />
                      </button>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          )}

          <button
            onClick={handleAdd}
            className="fixed bottom-6 right-6 bg-blue-600 text-white rounded-full p-4 shadow-lg hover:bg-blue-700 transition-colors"
          >
            <Plus className="w-6 h-6" />
          </button>

          {showDialog && (
            <VendorDialog
              vendor={editingVendor}
              onClose={() => setShowDialog(false)}
              onSave={() => {
                setShowDialog(false);
                onUpdate();
              }}
            />
          )}
        </div>
      );
    }

    function VendorDialog({ vendor, onClose, onSave }) {
      const [formData, setFormData] = useState({
        name: vendor?.name || '',
        salesPerson: vendor?.salesPerson || '',
        email: vendor?.email || '',
        phone: vendor?.phone || ''
      });

      const handleSubmit = (e) => {
        e.preventDefault();
        if (!formData.name.trim()) {
          alert('Please enter vendor name');
          return;
        }

        if (vendor) {
          db.updateVendor(vendor.id, formData);
        } else {
          db.addVendor(formData);
        }
        onSave();
      };

      return (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
          <div className="bg-white rounded-lg max-w-md w-full p-6">
            <div className="flex justify-between items-center mb-4">
              <h2 className="text-xl font-bold">
                {vendor ? 'Edit Vendor' : 'Add Vendor'}
              </h2>
              <button onClick={onClose} className="text-gray-500 hover:text-gray-700">
                <X className="w-6 h-6" />
              </button>
            </div>

            <form onSubmit={handleSubmit} className="space-y-4">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">
                  Vendor Name *
                </label>
                <input
                  type="text"
                  value={formData.name}
                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  required
                />
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">
                  Sales Person
                </label>
                <input
                  type="text"
                  value={formData.salesPerson}
                  onChange={(e) => setFormData({ ...formData, salesPerson: e.target.value })}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                />
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">
                  Email
                </label>
                <input
                  type="email"
                  value={formData.email}
                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                />
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">
                  Phone
                </label>
                <input
                  type="tel"
                  value={formData.phone}
                  onChange={(e) => setFormData({ ...formData, phone: e.target.value })}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                />
              </div>

              <div className="flex gap-3 pt-4">
                <button
                  type="button"
                  onClick={onClose}
                  className="flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"
                >
                  Cancel
                </button>
                <button
                  type="submit"
                  className="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
                >
                  Save
                </button>
              </div>
            </form>
          </div>
        </div>
      );
    }

    function VendorItemsView({ vendor, onBack, onUpdate }) {
      const [items, setItems] = useState([]);
      const [showDialog, setShowDialog] = useState(false);
      const [editingItem, setEditingItem] = useState(null);

      useEffect(() => {
        loadItems();
      }, [vendor]);

      const loadItems = () => {
        setItems(db.getItemsByVendor(vendor.id));
      };

      const handleAdd = () => {
        setEditingItem(null);
        setShowDialog(true);
      };

      const handleEdit = (item) => {
        setEditingItem(item);
        setShowDialog(true);
      };

      const handleDelete = (item) => {
        if (confirm(`Delete ${item.name}?`)) {
          db.deleteItem(item.id);
          loadItems();
          onUpdate();
        }
      };

      return (
        <div>
          <button
            onClick={onBack}
            className="mb-4 flex items-center gap-2 text-blue-600 hover:text-blue-800"
          >
            ‚Üê Back to Vendors
          </button>

          <div className="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 className="text-2xl font-bold text-gray-900">{vendor.name}</h2>
            {vendor.salesPerson && (
              <p className="text-gray-600">Sales: {vendor.salesPerson}</p>
            )}
          </div>

          {items.length === 0 ? (
            <div className="text-center py-16 bg-white rounded-lg shadow-md">
              <Package className="w-20 h-20 mx-auto text-gray-300 mb-4" />
              <h3 className="text-xl font-medium text-gray-600 mb-2">No items yet</h3>
              <p className="text-gray-500">Add items for this vendor</p>
            </div>
          ) : (
            <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
              {items.map(item => (
                <div key={item.id} className="bg-white rounded-lg shadow-md p-6">
                  <div className="flex justify-between items-start mb-2">
                    <div className="flex-1">
                      <h3 className="font-bold text-lg text-gray-900">{item.name}</h3>
                      <p className="text-2xl font-bold text-green-600">
                        ${parseFloat(item.price).toFixed(2)}
                      </p>
                    </div>
                    <div className="flex gap-2">
                      <button
                        onClick={() => handleEdit(item)}
                        className="text-blue-600 hover:text-blue-800 p-2"
                      >
                        <Edit2 className="w-4 h-4" />
                      </button>
                      <button
                        onClick={() => handleDelete(item)}
                        className="text-red-600 hover:text-red-800 p-2"
                      >
                        <Trash2 className="w-4 h-4" />
                      </button>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          )}

          <button
            onClick={handleAdd}
            className="fixed bottom-6 right-6 bg-blue-600 text-white rounded-full p-4 shadow-lg hover:bg-blue-700 transition-colors"
          >
            <Plus className="w-6 h-6" />
          </button>

          {showDialog && (
            <ItemDialog
              item={editingItem}
              vendorId={vendor.id}
              onClose={() => setShowDialog(false)}
              onSave={() => {
                setShowDialog(false);
                loadItems();
                onUpdate();
              }}
            />
          )}
        </div>
      );
    }

    function ItemDialog({ item, vendorId, onClose, onSave }) {
      const [formData, setFormData] = useState({
        name: item?.name || '',
        price: item?.price || ''
      });

      const handleSubmit = (e) => {
        e.preventDefault();
        if (!formData.name.trim() || !formData.price) {
          alert('Please fill in all fields');
          return;
        }

        const itemData = {
          vendorId,
          name: formData.name.trim(),
          price: parseFloat(formData.price)
        };

        if (item) {
          db.updateItem(item.id, itemData);
        } else {
          db.addItem(itemData);
        }
        onSave();
      };

      return (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
          <div className="bg-white rounded-lg max-w-md w-full p-6">
            <div className="flex justify-between items-center mb-4">
              <h2 className="text-xl font-bold">
                {item ? 'Edit Item' : 'Add Item'}
              </h2>
              <button onClick={onClose} className="text-gray-500 hover:text-gray-700">
                <X className="w-6 h-6" />
              </button>
            </div>

            <form onSubmit={handleSubmit} className="space-y-4">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">
                  Item Name *
                </label>
                <input
                  type="text"
                  value={formData.name}
                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  required
                />
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">
                  Price *
                </label>
                <div className="relative">
                  <span className="absolute left-3 top-2 text-gray-500">$</span>
                  <input
                    type="number"
                    step="0.01"
                    value={formData.price}
                    onChange={(e) => setFormData({ ...formData, price: e.target.value })}
                    className="w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    required
                  />
                </div>
              </div>

              <div className="flex gap-3 pt-4">
                <button
                  type="button"
                  onClick={onClose}
                  className="flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"
                >
                  Cancel
                </button>
                <button
                  type="submit"
                  className="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
                >
                  Save
                </button>
              </div>
            </form>
          </div>
        </div>
      );
    }

    function OrderTab({ vendors, items }) {
      const [selectedVendor, setSelectedVendor] = useState(null);
      const [vendorItems, setVendorItems] = useState([]);
      const [quantities, setQuantities] = useState({});
      const [copied, setCopied] = useState(false);

      useEffect(() => {
        if (selectedVendor) {
          const items = db.getItemsByVendor(selectedVendor.id);
          setVendorItems(items);
          setQuantities({});
        }
      }, [selectedVendor]);

      const updateQuantity = (itemId, delta) => {
        setQuantities(prev => {
          const current = prev[itemId] || 0;
          const newQty = Math.max(0, current + delta);
          if (newQty === 0) {
            const { [itemId]: removed, ...rest } = prev;
            return rest;
          }
          return { ...prev, [itemId]: newQty };
        });
      };

      const calculateTotal = () => {
        return vendorItems.reduce((total, item) => {
          const qty = quantities[item.id] || 0;
          return total + (item.price * qty);
        }, 0);
      };

      const generateOrderText = () => {
        const lines = [];
        lines.push('ORDER SUMMARY');
        lines.push('='.repeat(50));
        lines.push(`Vendor: ${selectedVendor.name}`);
        if (selectedVendor.salesPerson) lines.push(`Sales Person: ${selectedVendor.salesPerson}`);
        if (selectedVendor.phone) lines.push(`Phone: ${selectedVendor.phone}`);
        lines.push('='.repeat(50));
        lines.push('');
        lines.push('ITEMS:');
        lines.push('Item\tQty\tPrice\tTotal');
        lines.push('-'.repeat(50));
        
        vendorItems.forEach(item => {
          const qty = quantities[item.id] || 0;
          if (qty > 0) {
            const itemTotal = item.price * qty;
            lines.push(`${item.name}\t${qty}\t${item.price.toFixed(2)}\t${itemTotal.toFixed(2)}`);
          }
        });
        
        lines.push('-'.repeat(50));
        lines.push(`GRAND TOTAL:\t\t\t${calculateTotal().toFixed(2)}`);
        lines.push('');
        lines.push(`Date: ${new Date().toLocaleString()}`);
        
        return lines.join('\n');
      };

      const copyToClipboard = () => {
        navigator.clipboard.writeText(generateOrderText());
        setCopied(true);
        setTimeout(() => setCopied(false), 2000);
      };

      const sendEmail = () => {
        if (!selectedVendor.email) {
          alert('No email on file for this vendor');
          return;
        }
        const subject = encodeURIComponent(`Purchase Order - ${selectedVendor.name}`);
        const body = encodeURIComponent(generateOrderText());
        window.location.href = `mailto:${selectedVendor.email}?subject=${subject}&body=${body}`;
      };

      const clearOrder = () => {
        setQuantities({});
      };

      const total = calculateTotal();
      const hasItems = Object.keys(quantities).length > 0;

      return (
        <div className="max-w-4xl mx-auto">
          <div className="bg-blue-50 rounded-lg p-6 mb-6">
            <label className="block text-sm font-medium text-gray-700 mb-2">
              Select Vendor
            </label>
            <select
              value={selectedVendor?.id || ''}
              onChange={(e) => {
                const vendor = vendors.find(v => v.id === parseInt(e.target.value));
                setSelectedVendor(vendor);
              }}
              className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            >
              <option value="">Choose a vendor...</option>
              {vendors.map(vendor => (
                <option key={vendor.id} value={vendor.id}>
                  {vendor.name}
                </option>
              ))}
            </select>
            {hasItems && (
              <button
                onClick={clearOrder}
                className="mt-3 text-sm text-red-600 hover:text-red-800"
              >
                Clear Order
              </button>
            )}
          </div>

          {!selectedVendor ? (
            <div className="text-center py-16 bg-white rounded-lg shadow-md">
              <ShoppingCart className="w-20 h-20 mx-auto text-gray-300 mb-4" />
              <h3 className="text-xl font-medium text-gray-600">Select a vendor to start ordering</h3>
            </div>
          ) : vendorItems.length === 0 ? (
            <div className="text-center py-16 bg-white rounded-lg shadow-md">
              <Package className="w-20 h-20 mx-auto text-gray-300 mb-4" />
              <h3 className="text-xl font-medium text-gray-600">No items available for this vendor</h3>
            </div>
          ) : (
            <>
              <div className="space-y-3 mb-6">
                {vendorItems.map(item => {
                  const qty = quantities[item.id] || 0;
                  const itemTotal = item.price * qty;
                  
                  return (
                    <div
                      key={item.id}
                      className={`bg-white rounded-lg shadow-md p-4 transition-all ${
                        qty > 0 ? 'ring-2 ring-blue-500 bg-blue-50' : ''
                      }`}
                    >
                      <div className="flex items-center justify-between">
                        <div className="flex-1">
                          <h3 className="font-bold text-lg text-gray-900">{item.name}</h3>
                          <p className="text-sm text-gray-600">
                            Unit Price: ${item.price.toFixed(2)}
                          </p>
                          {qty > 0 && (
                            <p className="text-sm font-bold text-green-600 mt-1">
                              Subtotal: ${itemTotal.toFixed(2)}
                            </p>
                          )}
                        </div>
                        
                        <div className="flex items-center gap-3">
                          <button
                            onClick={() => updateQuantity(item.id, -1)}
                            disabled={qty === 0}
                            className="w-10 h-10 rounded-full bg-red-100 text-red-600 hover:bg-red-200 disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center font-bold text-xl"
                          >
                            ‚àí
                          </button>
                          <span className="text-xl font-bold w-12 text-center">
                            {qty}
                          </span>
                          <button
                            onClick={() => updateQuantity(item.id, 1)}
                            className="w-10 h-10 rounded-full bg-green-100 text-green-600 hover:bg-green-200 flex items-center justify-center font-bold text-xl"
                          >
                            +
                          </button>
                        </div>
                      </div>
                    </div>
                  );
                })}
              </div>

              <div className="bg-white rounded-lg shadow-lg p-6 sticky bottom-0">
                <div className="bg-blue-50 rounded-lg p-4 mb-4">
                  <div className="flex justify-between items-center">
                    <span className="text-xl font-bold text-gray-900">TOTAL:</span>
                    <span className="text-3xl font-bold text-blue-600">
                      ${total.toFixed(2)}
                    </span>
                  </div>
                </div>

                <div className="flex gap-3">
                  <button
                    onClick={copyToClipboard}
                    disabled={!hasItems}
                    className="flex-1 py-3 px-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium"
                  >
                    {copied ? <Check className="w-5 h-5" /> : <Copy className="w-5 h-5" />}
                    {copied ? 'Copied!' : 'Copy'}
                  </button>
                  <button
                    onClick={sendEmail}
                    disabled={!hasItems}
                    className="flex-1 py-3 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium"
                  >
                    <Mail className="w-5 h-5" />
                    Email
                  </button>
                </div>
              </div>
            </>
          )}
        </div>
      );
    }

    function SettingsTab() {
      const [showInstructions, setShowInstructions] = useState(false);

      return (
        <div className="max-w-4xl mx-auto space-y-6">
          <div className="bg-white rounded-lg shadow-md overflow-hidden">
            <div className="p-6 space-y-4">
              <div className="flex items-start gap-4">
                <div className="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
                  <Package className="w-6 h-6 text-blue-600" />
                </div>
                <div>
                  <h3 className="font-bold text-lg text-gray-900">About</h3>
                  <p className="text-gray-600">Inventory Manager v1.0</p>
                </div>
              </div>
              
              <div className="border-t pt-4">
                <h4 className="font-semibold text-gray-900 mb-2">Features</h4>
                <ul className="space-y-2 text-gray-600">
                  <li className="flex items-start gap-2">
                    <span className="text-blue-600 mt-1">‚Ä¢</span>
                    <span>Vendor management with contact information</span>
                  </li>
                  <li className="flex items-start gap-2">
                    <span className="text-blue-600 mt-1">‚Ä¢</span>
                    <span>Item tracking with prices</span>
                  </li>
                  <li className="flex items-start gap-2">
                    <span className="text-blue-600 mt-1">‚Ä¢</span>
                    <span>Order creation with quantity selection</span>
                  </li>
                  <li className="flex items-start gap-2">
                    <span className="text-blue-600 mt-1">‚Ä¢</span>
                    <span>Email orders directly to vendors</span>
                  </li>
                  <li className="flex items-start gap-2">
                    <span className="text-blue-600 mt-1">‚Ä¢</span>
                    <span>Local browser storage (data persists)</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-lg shadow-md overflow-hidden">
            <button
              onClick={() => setShowInstructions(!showInstructions)}
              className="w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors"
            >
              <div className="flex items-center gap-4">
                <div className="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                  <Settings className="w-6 h-6 text-green-600" />
                </div>
                <div className="text-left">
                  <h3 className="font-bold text-lg text-gray-900">How to Use</h3>
                  <p className="text-sm text-gray-600">Tap for instructions</p>
                </div>
              </div>
              <span className="text-gray-400">{showInstructions ? '‚àí' : '+'}</span>
            </button>
            
            {showInstructions && (
              <div className="px-6 pb-6 space-y-4 border-t">
                <div className="pt-4">
                  <h4 className="font-bold text-gray-900 mb-2">1. Add Vendors</h4>
                  <p className="text-gray-600">
                    Go to Vendors tab and add your suppliers with contact information including name, sales person, email, and phone.
                  </p>
                </div>
                
                <div>
                  <h4 className="font-bold text-gray-900 mb-2">2. Add Items</h4>
                  <p className="text-gray-600">
                    Click on a vendor to view their details, then add items with prices.
                  </p>
                </div>
                
                <div>
                  <h4 className="font-bold text-gray-900 mb-2">3. Create Orders</h4>
                  <p className="text-gray-600">
                    Go to Order tab, select a vendor, choose items and adjust quantities using + and ‚àí buttons.
                  </p>
                </div>
                
                <div>
                  <h4 className="font-bold text-gray-900 mb-2">4. Send or Copy</h4>
                  <p className="text-gray-600">
                    Copy the order to clipboard for pasting elsewhere, or email it directly to the vendor using their contact email.
                  </p>
                </div>
              </div>
            )}
          </div>

          <div className="bg-white rounded-lg shadow-md p-6">
            <div className="flex items-start gap-4">
              <div className="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0">
                <Package className="w-6 h-6 text-purple-600" />
              </div>
              <div>
                <h3 className="font-bold text-lg text-gray-900 mb-2">Data Storage</h3>
                <p className="text-gray-600">
                  All your data is stored locally in your browser. It will persist between sessions, but clearing your browser data will remove it.
                </p>
                <p className="text-sm text-gray-500 mt-2">
                  Use the Export button in the header to backup your data as JSON.
                </p>
              </div>
            </div>
          </div>

          <div className="text-center py-8">
            <p className="text-gray-500">Made with React üíô</p>
          </div>
        </div>
      );
    }

    // Render the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<InventoryApp />);
  </script>
</body>
</html>